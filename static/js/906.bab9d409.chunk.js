"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[906],{436:function(e,t,n){n.d(t,{Bt:function(){return l},KS:function(){return i},ME:function(){return v},MX:function(){return o},wz:function(){return c}});var r=n(861),a=n(757),s=n.n(a),u=n(44).ZP.create({baseURL:"https://api.themoviedb.org/3",params:{api_key:"997ea85e86de02db6a9182bda8c38aca"}}),i=function(){var e=(0,r.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.get("/trending/movie/week");case 2:return t=e.sent,e.abrupt("return",t.data.results);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=(0,r.Z)(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.get("/movie/".concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=function(){var e=(0,r.Z)(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.get("/movie/".concat(t,"/credits"));case 2:return n=e.sent,e.abrupt("return",n.data.cast);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=(0,r.Z)(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.get("/movie/".concat(t,"/reviews"));case 2:return n=e.sent,e.abrupt("return",n.data.results);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=(0,r.Z)(s().mark((function e(t,n){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.get("/search/movie",{params:{query:t,page:n}});case 2:return r=e.sent,console.log(r.data),e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},906:function(e,t,n){n.r(t),n.d(t,{default:function(){return b}});var r=n(982),a=n(861),s=n(885),u=n(757),i=n.n(u),o=n(436),c=n(791),l=n(731),v=n(689),p="MoviesPage_movies_container__RhxC7",f="MoviesPage_movies_input__4XYHL",d="MoviesPage_movies_button__b-qjX",m="MoviesPage_movies_list__g3CN0",_="MoviesPage_movies_listItem__vHGaQ",h="MoviesPage_movies_link__tvYJy",g="MoviesPage_movies_buttonList__BnDGZ",x="MoviesPage_movies_buttonItem__nXWdo",w=n(184);function b(){var e,t,n=(0,l.lr)(),u=(0,s.Z)(n,2),b=u[0],y=u[1],k=null!==(e=b.get("page"))&&void 0!==e?e:1,Z=null!==(t=b.get("query"))&&void 0!==t?t:"",j=(0,c.useState)(null!==Z&&void 0!==Z?Z:""),M=(0,s.Z)(j,2),P=M[0],N=M[1],C=(0,c.useState)([]),S=(0,s.Z)(C,2),q=S[0],L=S[1],X=(0,c.useState)([]),E=(0,s.Z)(X,2),H=E[0],B=E[1],D=(0,v.TH)();(0,c.useEffect)((function(){function e(){return(e=(0,a.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.ME)(Z,k);case 2:t=e.sent,L(t.results),B(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}""!==Z&&function(){e.apply(this,arguments)}()}),[Z,k]);return(0,w.jsxs)("div",{className:p,children:[(0,w.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==P.trim()?y({query:P.trim().toLowerCase(),page:1}):alert("Please write what you need.")},children:[(0,w.jsx)("input",{type:"text",onChange:function(e){N(e.currentTarget.value)},value:P,className:f}),(0,w.jsx)("button",{type:"submit",className:d,children:"Search"})]}),(0,w.jsx)("ul",{className:m,children:q.map((function(e){return(0,w.jsx)("li",{className:_,children:(0,w.jsx)(l.rU,{to:"/movies/".concat(e.id),state:{from:D},className:h,children:e.original_title})},e.id)}))}),(null===H||void 0===H?void 0:H.total_pages)&&(0,w.jsx)("div",{children:(0,w.jsx)("ul",{className:g,children:(0,r.Z)(Array(null===H||void 0===H?void 0:H.total_pages)).map((function(e,t){return(0,w.jsx)("li",{children:(0,w.jsx)("button",{disabled:t+1===(null===H||void 0===H?void 0:H.page),onClick:function(){return e=t+1,void y({query:P.trim().toLowerCase(),page:e});var e},className:x,children:t+1})},t)}))})})]})}}}]);
//# sourceMappingURL=906.bab9d409.chunk.js.map